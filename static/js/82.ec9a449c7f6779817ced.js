webpackJsonp([82],{"2xun":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("fZjL"),i=a.n(o),n=a("XLwt"),l=a.n(n),r=a("cQKb"),s=a("accY"),c={data:function(){return{form:{cabinet_num:0,equipment_sum:0},tableDataRoom:{},echartsPie:null,echartsLine:null,tableData:[{id:"chart1",title:"机柜状态统计",value:0,value1:0,value2:0,value3:0,name:"已用空间",unit:"m²",fontSize:10,color:"#06567f",color1:"#5d78a0"},{id:"chart2",title:"机房U位使用统计",name:"已用U位",unit:"个",fontSize:10,color:"#12c8ed",color1:"#5d78a0",value:0,value1:0,value2:0},{id:"chart3",title:"机房电力使用统计",name:"已用电量",color:"#f71959",unit:"KW",fontSize:10,color1:"#5d78a0",value:0,value1:0,value2:0},{id:"chart4",title:"机房承重使用统计",name:"当前承重",color:"#dde45e",unit:"KG",fontSize:10,color1:"#5d78a0",value:0,value1:0,value2:0}],clickBut:[{name:"机柜U位统计",id:"spaceimage",className:"bar"},{name:"机柜电力使用统计",id:"power_image",className:"bar"},{name:"机柜制冷统计",id:3,className:"bar"},{name:"机柜承重使用统计",id:"weightpower",className:"bar"}]}},mounted:function(){this.init()},methods:{init:function(){var e=s.a.parseQueryString().serial,t=this;r.a.axiosGet({callback:function(e){1==e.code&&(t.form=e.data.summary,t.tableDataRoom=e.data,t.tableData.forEach(function(a){switch(a.id){case"chart1":a.value=e.data.cabinet_status.using_sum.toFixed(2),a.value1=e.data.cabinet_status.disabled_sum.toFixed(2),a.value2=e.data.cabinet_status.presell_sum.toFixed(2),a.value3=e.data.cabinet_status.free_sum.toFixed(2);break;case"chart2":a.value=e.data.cabinet_status.using_sum.toFixed(2),a.value1=e.data.cabinet_status.free_sum+e.data.cabinet_status.presell_sum+e.data.cabinet_status.disabled_sum.toFixed(2);break;case"chart3":a.value=e.data.weightpower.roomusepower.toFixed(2),a.value1=(e.data.weightpower.roompower-e.data.weightpower.roomusepower).toFixed(2);break;case"chart4":a.value=e.data.weightpower.roomuseweight.toFixed(2),a.value1=(e.data.weightpower.roomweight-e.data.weightpower.roomuseweight).toFixed(2)}t.chartFun(a)}),t.clickBut.map(function(a){switch(a.id){case"spaceimage":t.loadingLine({objKey:a,data:e.data.spaceimage});break;case"power_image":t.loadingLine({objKey:a,data:e.data.power_image});break;case"weightpower":t.loadingLine({objKey:a,data:e.data.weight_image});break;case 3:t.loadingLine({objKey:a,data:e.data.power_image})}}))},url:"/room/room_baseinfo/?room_serial="+e})},loadingLine:function(e){if(e){var t=[],a=[];i()(e.data).forEach(function(o){t.push(o),a.push(e.data[o])}),this.chartLine({objKey:e.objKey,xdata:t,ydata:a})}},chartFun:function(e){var t=this;this.echartsPie=l.a.init(document.getElementById(e.id));var a={title:{text:e.title,x:"center",bottom:10,textStyle:{color:"#fff",fontSize:14,fontFamily:"PingFangSC",fontWeight:400}},grid:{right:-10},tooltip:{trigger:"item",formatter:"{b} {d}% ({c}"+e.unit+")"},legend:{orient:"vertical",x:"left",y:"center",padding:5,itemGap:20,data:["已用","未用"],icon:"circle",textStyle:{color:"#fff",fontSize:12,fontFamily:"PingFangSC",fontWeight:400}},series:[{type:"pie",center:["60%","50%"],radius:["40%","50%"],selectedMode:"single",selectedOffset:10,clockwise:!0,itemStyle:{borderColor:"#04192b",borderWidth:1},label:{normal:{show:!0,formatter:function(e){return console.log(e),"{color"+e.dataIndex+"| "+e.percent+"%}"},rich:{color0:{fontSize:12,color:e.color,fontWeight:400,fontFamily:"PingFangSC"},color1:{fontSize:12,color:"#04890e",fontWeight:400,fontFamily:"PingFangSC"},color2:{fontSize:12,color:"#918b24",fontWeight:400,fontFamily:"PingFangSC"},color3:{fontSize:12,color:"#85888e",fontWeight:400,fontFamily:"PingFangSC"}}}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}},emphasis:{label:{show:!0}},data:[{value:e.value,name:"已用",label:{normal:{formatter:["{b}","{d}%"].join("\n"),position:"center",show:!0,textStyle:{fontSize:12,fontWeight:"normal"}}},itemStyle:{color:e.color},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}}},{value:e.value1,name:"未用",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(4,137,14, 0.2)"},{offset:1,color:"#04890e"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#04890e"}}}},{value:e.value2,name:"预定",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(145,139,36, 0.2)"},{offset:1,color:"#918b24"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#918b24"}}}},{value:e.value3,name:"空闲",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(133,136,142, 0.2)"},{offset:1,color:"#85888e"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#85888e"}}}}]}]};"chart1"==e.id?a.legend.data=["已用","未用","预定","空闲"]:a.series[0].data.splice(2,3),this.echartsPie.setOption(a),window.addEventListener("resize",function(){t.echartsPie.resize()})},chartLine:function(e){var t=this;this.echartsLine=l.a.init(document.getElementById(e.objKey.id)),this.echartsLine.setOption({title:{text:e.objKey.name,x:"center",top:0,textStyle:{color:"#fff",fontSize:14,fontFamily:"PingFangSC",fontWeight:400}},grid:{top:30,bottom:25},tooltip:{trigger:"item",formatter:"{b}% {c}个"},xAxis:{type:"category",name:"(%)",data:e.xdata,boundaryGap:["20%","20%"],axisLine:{lineStyle:{color:"#fff"},symbol:["none","arrow"],symbolSize:[6,10]},nameGap:10,axisTick:{show:!1}},yAxis:{type:"value",name:"(个)",splitNumber:10,axisLine:{lineStyle:{color:"#fff"},symbol:["none","arrow"],symbolSize:[6,10]},data:e.ydata,splitLine:{lineStyle:{color:["#54bdfc"],type:"dotted"}}},series:[{data:e.ydata,type:"bar",itemStyle:{normal:{color:function(e){return["#f58a8c","#f5b083","#f3e283","#b4f593","#50f5b3","#5bf7f6","#56bdf7","#5e8ff2","#6a67ea","#bf70fa"][e.dataIndex]},label:{show:!0,formatter:"{c}",position:"top",textStyle:{color:"#68BFE5"}}}}}]}),window.addEventListener("resize",function(){t.echartsLine.resize()})},checkBut:function(e){switch(this.clickBut.forEach(function(t){t.name==e.name?t.className="action":t.className="bar"}),e.id){case"spaceimage":this.loadingLine(this.tableDataRoom.spaceimage);break;case"power_image":this.loadingLine(this.tableDataRoom.power_image);break;case"weightpower":this.loadingLine(this.tableDataRoom.weight_image)}}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"room_demo"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("message.summaryinformation")))]),e._v(" "),a("div",{staticClass:"room_demo_container"},[a("div",{staticClass:"room_demo_container_left"},[a("div",{staticClass:"left_title"},[a("span",[e._v(e._s(e.$t("message.Totalcabinets"))+":"),a("span",{staticStyle:{"font-size":"1.5em","padding-left":"1em"}},[e._v(e._s(e.form.cabinet_num))])]),e._v(" "),a("span",[e._v(e._s(e.$t("message.Totalequipment"))+":"),a("span",{staticStyle:{"font-size":"1.5em","padding-left":"1em"}},[e._v(e._s(e.form.equipment_sum))])])]),e._v(" "),a("div",{staticClass:"left_chart"},e._l(e.tableData,function(e){return a("div",{staticClass:"chartPie_bar",attrs:{id:e.id}})}),0)]),e._v(" "),a("div",{staticClass:"room_demo_container_right"},[a("div",{staticClass:"right_chart"},e._l(e.clickBut,function(e){return a("div",{staticStyle:{width:"100%",height:"25%"},attrs:{id:e.id}})}),0)])])])},staticRenderFns:[]};var m=a("VU/8")(c,d,!1,function(e){a("qvdh")},"data-v-90502e94",null);t.default=m.exports},qvdh:function(e,t){}});