webpackJsonp([69],{"44YG":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("fZjL"),i=a.n(o),n=a("XLwt"),l=a.n(n),r=a("cQKb"),c=a("accY"),s={data:function(){return{form:{cabinet_num:0,equipment_sum:0},tableDataRoom:{},echartsPie:null,echartsLine:null,tableData:[{id:"chart1",title:"机柜状态统计",value:0,value1:0,value2:0,value3:0,name:"已用空间",unit:"m²",fontSize:10,color:"#3f51b5",color1:"#5d78a0"},{id:"chart2",title:"机房U位使用统计",name:"已用U位",unit:"个",fontSize:10,color:"#12c8ed",color1:"#5d78a0",value:0,value1:0,value2:0},{id:"chart3",title:"机房电力使用统计",name:"已用电量",color:"#f71959",unit:"KW",fontSize:10,color1:"#5d78a0",value:0,value1:0,value2:0},{id:"chart4",title:"机房承重使用统计",name:"当前承重",color:"#dde45e",unit:"KG",fontSize:10,color1:"#5d78a0",value:0,value1:0,value2:0}],clickBut:[{name:"机柜U位统计",id:"spaceimage",className:"bar"},{name:"机柜电力使用统计",id:"power_image",className:"bar"},{name:"机柜制冷统计",id:3,className:"bar"},{name:"机柜承重使用统计",id:"weightpower",className:"bar"}]}},mounted:function(){this.init()},methods:{init:function(){var e=c.a.parseQueryString().serial,t=this;r.a.axiosGet({callback:function(e){1==e.code&&(t.form=e.data.summary,t.tableDataRoom=e.data,t.clickBut.map(function(a){switch(a.id){case"spaceimage":t.loadingLine({objKey:a,data:e.data.spaceimage});break;case"power_image":t.loadingLine({objKey:a,data:e.data.power_image});break;case"weightpower":t.loadingLine({objKey:a,data:e.data.weight_image});break;case 3:t.loadingLine({objKey:a,data:e.data.power_image})}}))},url:"/room/room_baseinfo/?room_serial="+e})},loadingLine:function(e){if(e){var t=[],a=[];i()(e.data).forEach(function(o){t.push(o),a.push(e.data[o])}),this.chartLine({objKey:e.objKey,xdata:t,ydata:a})}},chartFun:function(e){var t=this;this.echartsPie=l.a.init(document.getElementById(e.id));var a={title:{text:e.title,x:"center",bottom:10,textStyle:{color:"#fff",fontSize:14,fontFamily:"PingFangSC",fontWeight:400}},grid:{right:-10},tooltip:{trigger:"item",formatter:"{b} {d}% ({c}"+e.unit+")"},legend:{orient:"vertical",x:"left",y:"center",padding:5,itemGap:20,data:["已用","未用"],icon:"circle",textStyle:{color:"#fff",fontSize:12,fontFamily:"PingFangSC",fontWeight:400}},series:[{type:"pie",center:["60%","50%"],radius:["40%","50%"],selectedMode:"single",selectedOffset:10,clockwise:!0,itemStyle:{borderColor:"#04192b",borderWidth:1},label:{normal:{show:!0,formatter:function(e){return console.log(e),"{color"+e.dataIndex+"| "+e.percent+"%}"},rich:{color0:{fontSize:12,color:e.color,fontWeight:400,fontFamily:"PingFangSC"},color1:{fontSize:12,color:"#5d78a0",fontWeight:400,fontFamily:"PingFangSC"},color2:{fontSize:12,color:"#5EA6FE",fontWeight:400,fontFamily:"PingFangSC"},color3:{fontSize:12,color:"#4caf50",fontWeight:400,fontFamily:"PingFangSC"}}}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}},emphasis:{label:{show:!0}},data:[{value:e.value,name:"已用",label:{normal:{formatter:["{b}","{d}%"].join("\n"),position:"center",show:!0,textStyle:{fontSize:12,fontWeight:"normal"}}},itemStyle:{color:e.color},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}}},{value:e.value1,name:"未用",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(255,86,36, 0.2)"},{offset:1,color:"#5d78a0"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}}},{value:e.value2,name:"预定",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(94,166,254, 0.2)"},{offset:1,color:"#5EA6FE"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}}},{value:e.value3,name:"空闲",itemStyle:{color:{type:"radial",x:550,y:440,r:120,colorStops:[{offset:0,color:"rgba(94,166,254, 0.2)"},{offset:1,color:"#4caf50"}],global:!0}},labelLine:{normal:{length:5,length2:0,lineStyle:{color:"#0b5263"}}}}]}]};"chart1"==e.id?a.legend.data=["已用","未用","预定","空闲"]:a.series[0].data.splice(2,3),this.echartsPie.setOption(a),window.addEventListener("resize",function(){t.echartsPie.resize()})},chartLine:function(e){var t=this;this.echartsLine=l.a.init(document.getElementById(e.objKey.id)),this.echartsLine.setOption({title:{text:e.objKey.name,x:"center",top:0,textStyle:{color:"#fff",fontSize:14,fontFamily:"PingFangSC",fontWeight:400}},grid:{top:30,bottom:25},tooltip:{trigger:"item",formatter:"{b}% {c}个"},xAxis:{type:"category",name:"(%)",data:e.xdata,boundaryGap:["20%","20%"],axisLine:{lineStyle:{color:"#fff"},symbol:["none","arrow"],symbolSize:[6,10]},nameGap:10,axisTick:{show:!1}},yAxis:{type:"value",name:"(个)",splitNumber:10,axisLine:{lineStyle:{color:"#fff"},symbol:["none","arrow"],symbolSize:[6,10]},data:e.ydata,splitLine:{lineStyle:{color:["#54bdfc"],type:"dotted"}}},series:[{data:e.ydata,type:"bar",itemStyle:{normal:{color:function(e){return["#f58a8c","#f5b083","#f3e283","#b4f593","#50f5b3","#5bf7f6","#56bdf7","#5e8ff2","#6a67ea","#bf70fa"][e.dataIndex]},label:{show:!0,formatter:"{c}",position:"top",textStyle:{color:"#68BFE5"}}}}}]}),window.addEventListener("resize",function(){t.echartsLine.resize()})},checkBut:function(e){switch(this.clickBut.forEach(function(t){t.name==e.name?t.className="action":t.className="bar"}),e.id){case"spaceimage":this.loadingLine(this.tableDataRoom.spaceimage);break;case"power_image":this.loadingLine(this.tableDataRoom.power_image);break;case"weightpower":this.loadingLine(this.tableDataRoom.weight_image)}}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"room_demo"},[t("div",{staticClass:"room_demo_container"},[t("div",{staticClass:"room_demo_container_right"},[t("div",{staticClass:"right_chart"},this._l(this.clickBut,function(e){return t("div",{staticStyle:{width:"100%",height:"25%"},attrs:{id:e.id}})}),0)])])])},staticRenderFns:[]};var f=a("VU/8")(s,d,!1,function(e){a("evb5")},"data-v-d0407302",null);t.default=f.exports},evb5:function(e,t){}});